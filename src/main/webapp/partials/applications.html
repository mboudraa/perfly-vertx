<core-toolbar id="toolbar" class="medium-tall">
    <h1 flex>Samantha</h1>
    <div ng-show="ctrl.tabSelected == 0">
        <paper-icon-button id="search-icon" icon="search" role="button"
                           ng-click="openSearch = !openSearch;"></paper-icon-button>
        <paper-input id="search-input" label="Search an app" ng-model="search"
                     class="collapsable" ng-class="{true:'opened', false:'closed'}[openSearch]"></paper-input>
    </div>
    <div class="bottom fit" ng-if="ctrl.monitoredApplication" horizontal layout>
        <paper-tabs ng-model="ctrl.tabSelected" class="tabs-container" selected="{{ctrl.tabSelected}}">
            <paper-tab><span class="tab-label">Applications</span></paper-tab>
            <paper-tab>
                <div class="tab-container">
                    <img class="tab-icon" ng-src="data:image/jpeg;base64,{{ctrl.monitoredApplication.logo}}">
                    <span class="tab-label"> {{ctrl.monitoredApplication.label}}</span>
                </div>
            </paper-tab>
        </paper-tabs>
    </div>
    <paper-fab ng-click="fabAction()" ng-show="ctrl.currentApplication" class="fab fab-play" icon="{{ctrl.fabIcon}}">
    </paper-fab>

</core-toolbar>

<section id="applications-list" ng-show="!ctrl.tabSelected || ctrl.tabSelected == 0">
    <section class="applications-section content">
        <article class="application-article" ng-repeat="application in applications | filter:searchComparator"
                 ng-dblclick="startApplication(application)" ng-click="updateCurrentApplication(application)">
            <paper-ripple id="ripple"></paper-ripple>
            <img class="application-logo" ng-src="data:image/jpeg;base64,{{application.logo}}"
                 alt="logo {{application.label}}"/>
            <span class="application-label">{{application.label}}</span>
        </article>
    </section>
    <div id="footer" ng-class="{false: 'show', true:'hide'}[ctrl.currentApplication === undefined]">
        <img ng-if="ctrl.currentApplication" class="footer-logo" ng-src="data:image/jpeg;base64,{{ctrl.currentApplication.logo}}"
             alt="logo {{ctrl.currentApplication.label}}"/>
        <ul>
            <li>version : {{ctrl.currentApplication.version}}</li>
            <li>label : {{ctrl.currentApplication.label}}</li>
            <li>package : {{ctrl.currentApplication.packageName}}</li>
            <li>debuggable : {{ctrl.currentApplication.debuggable}}</li>
        </ul>
    </div>
</section>

<section id="applications-monitoring" ng-show="ctrl.tabSelected == 1">
    <article ng-controller="ChartMemoryCtrl">
        <highchart id="chart-memory" config="chartMemoryConfig"></highchart>
    </article>
</section>